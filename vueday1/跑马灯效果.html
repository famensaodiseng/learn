<!--
 * @Descripttion: 
 * @version: 
 * @Author: yang_ft
 * @Date: 2020-04-08 21:05:22
 * @github: famensaodiseng
 * @LastEditTime: 2020-04-08 21:23:46
 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app">
    <p>{{msg}}</p>
    <button @click="show">浪起来</button>
    <button @click="hidden">低调</button>
  </div>
</body>
<script src="./lib/vue-2.4.0.js"></script>
<script>
  //注意：在vm实例中，想要调用data中的数据，必须通过this.属性名来进行访问。
  let vm = new Vue({
    el: "#app",
    data: {
      msg: "帝释天一生都在浪，直到遇到了断浪",
      intervalId: null

    },
    methods: {
      show: function () {
        // console.log(this.msg)
        if (this.intervalId != null) return;

        this.intervalId = setInterval(() => {
          let start = this.msg.substring(0, 1)
          let end = this.msg.substring(1)
          this.msg = end + start;
          console.log(this.msg);
          //注意，vm实例会监听data中的数据，只要数据改变，那么页面也就会改变。
          //这里的箭头函数就可以改变this的指向。
        }, 300);

      },
      hidden: function () {
        clearInterval(this.intervalId);
        // 每次清除完后需要将intervalId置为null
        this.intervalId = null;
      }
    }
  })
</script>

</html>